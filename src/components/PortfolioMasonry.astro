---
// PortfolioMasonry.astro - A masonry grid portfolio component with smooth hover effects
import "@styles/portfolio.less";
import { getCollection } from "astro:content";

// Get all portfolio items from the collection
const portfolioItems = await getCollection("portfolio");

// Sort portfolio items by order property
const sortedItems = portfolioItems.sort((a, b) => a.data.order - b.data.order);
---

<section id="portfolio" class="portfolio-section">
  <div class="portfolio-container">
    <div class="portfolio-header">
      <p class="cs-topper">Our Work</p>
      <h2 class="cs-title">Featured Projects</h2>
      <div class="portfolio-divider"></div>
    </div>

    <div class="portfolio-grid">
      {sortedItems.map((item) => (
        <div class={`portfolio-item ${item.data.layout}`}>
          <div class="portfolio-image-wrapper">
            <img src={item.data.image} alt={item.data.title} />
          </div>
          <div class="portfolio-overlay">
            <h3>{item.data.title}</h3>
            <p>{item.data.category}</p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>


